<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dreamscapes - Interactive Art</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Custom cursor -->
    <div class="custom-cursor"></div>

    <!-- Start Screen -->
    <div class="main-title">
        <h1 class="title">DREAMSCAPES</h1>
        <div class="subtitle">An Interactive Journey Through Dreams</div>
    </div>

    <div class="canvas-container" id="canvas-container" style="display: none;">
        <canvas></canvas>
    </div>

    <!-- Dream Info Panel -->
    <div class="dream-info" id="dream-info" style="display: none;">
        <div class="dream-title" id="dream-title">DREAMSCAPES</div>
        <div class="dream-description" id="dream-description">
            Choose a dream to dive into...
        </div>
    </div>
    
    <button class="back-button" id="back-button">â† Back to Dreams</button>
    <button id="audio-toggle">ğŸ”Š</button>

    <div class="start-screen" id="start-screen">
        <div class="thought-bubble" data-dream="0" style="--bubble-color: #87CEEB; top: 15%; left: 20%; width: 140px; height: 140px;">ğŸ’¤<br><small>Counting<br>Sheep</small></div>
        <div class="thought-bubble" data-dream="1" style="--bubble-color: #FF6B6B; top: 60%; right: 15%; width: 160px; height: 160px;">ğŸ‘¹<br><small>Nightmare<br>Realm</small></div>
        <div class="thought-bubble" data-dream="2" style="--bubble-color: #4ECDC4; top: 10%; right: 25%; width: 120px; height: 120px;">ğŸŒŒ<br><small>Zero<br>Gravity</small></div>
        <div class="thought-bubble" data-dream="3" style="--bubble-color: #FFE66D; bottom: 25%; left: 45%; width: 180px; height: 180px;">ğŸ’­<br><small>Mind<br>Symphony</small></div>
        <div class="thought-bubble" data-dream="4" style="--bubble-color: #A8E6CF; top: 40%; left: 15%; width: 150px; height: 150px;">ğŸ“¸<br><small>Memory<br>Fragments</small></div>
    </div>

    <!-- Dream Journey Overlay -->
    <div class="dream-overlay" id="dream-overlay" style="display: none;">
        <div class="overlay-content">
            <h2>Deep in the Dream</h2>
            <p>Let yourself be carried by the flow...</p>
            
            <!-- Progress System -->
            <div class="progress-container" id="progress-container" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="stage-info" id="stage-info">Beginning journey...</div>
            </div>
            
            <div class="journey-controls">
                <button id="start-journey" onclick="startDreamJourney()">Start Journey</button>
                <div class="journey-hint">Press SPACE to start your journey</div>
            </div>
        </div>
    </div>

    <!-- Instructions -->
    <div class="instructions">
        Move mouse â€¢ Create ripples â€¢ Discover dreams
    </div>

    <script src="script.js"></script>

    <script>
        // Initialize event listeners when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Audio toggle functionality
            document.getElementById('audio-toggle').addEventListener('click', initAudio);
            
            // Escape key to return to start screen
            document.addEventListener('keydown', (e) => {
                if (e.code === 'Escape') {
                    returnToStart();
                }
            });
        });
    </script>
</body>
</html>